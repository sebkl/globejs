<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>github.com/sebkl/globejs</title>
    <link href='http://fonts.googleapis.com/css?family=Michroma' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="third-party/three.min.js"></script>
    <script type="text/javascript" src="third-party/Tween.js"></script>
    <script type="text/javascript" src="../gotojs/engine.js"></script>
    <script type="text/javascript" src="globe.js"></script>
    <script type="text/javascript">
var globe;
var gui;

function Next() {
	var tweets = GOTOJS.Tweets.Next();
	for (var i in tweets) {
		var tweet = tweets[i];
		globe.createSourceParticle((tweet['long']),-(tweet['lat']));
	}
	setTimeout(Next,1000);
};

function Start() {
	console.log("Globe initialized, starting twitter stream");
	Next();
}

$(document).bind("globe:initialized",Start);

$(document).ready(function() {
	globe = GLOBE.TYPES.Globe('#container');
	globe.start();
});

    </script>
    <style>
html,body,div#container {width:100%;height:100%;margin:0px;background-color:#000000}
    </style>
  </head>
  <body>
    <div id="container"></div>
  </body>
</html>
